{"version":3,"file":"static/js/950.4d2ddf99.chunk.js","mappings":"oPACO,SAASA,EAAeC,GAC3B,OAAOC,EAAAA,EAAAA,IAAA,yCAAyDD,I,iCCGrD,SAASE,IACpB,OAA6BC,EAAAA,EAAAA,UAAgB,IAA7C,eAAOC,EAAP,KAAgBC,EAAhB,KAWQC,EAAkB,mCAAE,WAAMC,GAAN,yFACPR,EAAeQ,GADR,OAClBC,EADkB,OAElBC,EAASD,EAAKE,KAAI,SAACC,GACrB,yBACOA,GADP,IAGIC,SAAS,QAGjBP,EAAYI,GATY,2CAAF,sDAWlBI,EAAY,SAACC,EAAcC,GAAf,0CAA6B,WAAMC,GAAN,uFACxBjB,EAAegB,EAAOR,IADE,UACxCC,EADwC,OAEzCO,EAAOH,SAASJ,EAAKE,KAAI,SAACC,GACtB,iBACOA,MAGPH,EAAKS,OAPgC,iDAS7CH,EAASC,EAAQC,GAT4B,2CAA7B,uDActB,OAHFE,EAAAA,EAAAA,YAAU,WACNZ,EAAmB,KACrB,KAEE,SAAC,IAAD,WACI,SAAC,IAAD,CAAOa,OAAQ,KAAMC,QArCT,CACZ,CAAEC,MAAO,eAAMC,UAAW,OAAQC,IAAK,QACvC,CAAEF,MAAO,eAAMC,UAAW,WAAYC,IAAK,YAC3C,CAAEF,MAAO,SAAKC,UAAW,QAASC,IAAK,SACvC,CACIF,MAAO,2BACPC,UAAW,aACXC,IAAK,eA8B8BC,WAAY,CAC9CC,WAAY,YAAqC,IAAlCC,EAAiC,EAAjCA,SAAUZ,EAAuB,EAAvBA,SAAUC,EAAa,EAAbA,OAM5B,OAAOW,GACH,SAACC,EAAA,EAAD,CACIC,UAAU,YACVC,QAAS,SAACb,GAAD,OAAOF,EAASC,EAAQC,OAGrC,SAACc,EAAA,EAAD,CACIF,UAAU,YACVC,QAAShB,EAAYC,EAASC,OAI/CgB,WAAY3B,EAAU4B,YAAY,EAAOC,UAAQ","sources":["api/information/index.ts","pages/information/information.tsx"],"sourcesContent":["import { request } from \"@utils/http\";\r\nexport function findByParentId(parentId:number){\r\n    return request.get<any,any[]>(`/admin/cmn/dict/findByParentId/${parentId}`)\r\n}","import {Table,Card} from 'antd';\r\nimport React,{useEffect,useState} from 'react';\r\nimport {findByParentId} from '@api/information/index'\r\nimport { RightOutlined, DownOutlined } from \"@ant-design/icons\";\r\nimport Loading from '@/components/Loading';\r\nexport default function Information() {\r\n    const [dictList,setDictList]=useState<any[]>([])\r\n    const columns = [\r\n        { title: \"名称\", dataIndex: \"name\", key: \"name\" },\r\n        { title: \"编码\", dataIndex: \"dictCode\", key: \"dictCode\" },\r\n        { title: \"值\", dataIndex: \"value\", key: \"value\" },\r\n        {\r\n            title: \"创建时间\",\r\n            dataIndex: \"createTime\",\r\n            key: \"createTime\",\r\n        },\r\n    ];\r\n      const findByparentIdDate= async(id:number)=>{\r\n        const data=await findByParentId(id)\r\n        const dictlist=data.map((item)=>{\r\n            return{\r\n                ...item,\r\n                // 设置这个children是为了在请求二级数据时候加进去，显示数据的\r\n                children:[],\r\n            }\r\n        })  \r\n        setDictList(dictlist)\r\n      }\r\n      const rightHandel=(onExpand:any, record:any)=> async(e:any)=>{\r\n       const data:any= await findByParentId(record.id)\r\n            record.children=data.map((item:any)=>{\r\n                return{\r\n                    ...item,\r\n                }\r\n            })\r\n            if(!data.length)return\r\n            // record是数据对象，e是事件对象，只有传入了点击的对象，和数据对象，onExpand才能展开数据\r\n        onExpand(record, e);\r\n      }\r\nuseEffect(()=>{\r\n    findByparentIdDate(1)\r\n},[])\r\n  return (\r\n    <Card>\r\n        <Table rowKey={'id'} columns={columns} expandable={{\r\n            \texpandIcon: ({ expanded, onExpand, record }) => {\r\n                    //expaned是图标是否展开(boolean值)，onExpand：点击展开图标时触发的函数，record是数据\r\n                    \r\n                    // if (!record.hasChildren) {\r\n                    //     return <span className=\"dict-box\"></span>;\r\n                    // }\r\n                    return expanded ? (\r\n                        <DownOutlined\r\n                            className=\"dict-icon\"\r\n                            onClick={(e) => onExpand(record, e)}\r\n                        />\r\n                    ) : (\r\n                        <RightOutlined\r\n                            className=\"dict-icon\"\r\n                            onClick={rightHandel(onExpand,record)}\r\n                        />\r\n                    );\r\n                }\r\n        }} dataSource={dictList} pagination={false} bordered/>\r\n    </Card>\r\n  )\r\n}\r\n"],"names":["findByParentId","parentId","request","Information","useState","dictList","setDictList","findByparentIdDate","id","data","dictlist","map","item","children","rightHandel","onExpand","record","e","length","useEffect","rowKey","columns","title","dataIndex","key","expandable","expandIcon","expanded","DownOutlined","className","onClick","RightOutlined","dataSource","pagination","bordered"],"sourceRoot":""}